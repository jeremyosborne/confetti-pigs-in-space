(()=>{var e,t={123:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.assetConfigs=t.AssetNames=void 0,function(e){e.bgMusic="bgMusic",e.explosionFlaktulence="explosionFlaktulence",e.explosionPig="explosionPig",e.explosionDino="explosionDino",e.bgSpace="bgSpace",e.confetti="confetti",e.flaktulence="flaktulence",e.pig="pig",e.purpleDino="purpleDino"}(n||(t.AssetNames=n={})),t.assetConfigs={bgMusic:{type:"audio",url:"assets/music/vamps_-_Borderline_(Fantastic_Vamps_8-Bit_Mix)_shortened.mp3"},explosionFlaktulence:{type:"audio",url:"assets/sounds/flaktulence.wav"},explosionPig:{type:"audio",url:"assets/sounds/explosion.wav"},explosionDino:{type:"audio",url:"assets/sounds/explosion2.wav"},bgSpace:{type:"image",url:"assets/images/starfield.png"},confetti:{type:"image",url:"assets/images/confetti.png"},flaktulence:{type:"image",url:"assets/images/flaktulence.png"},pig:{type:"image",url:"assets/images/pig.png"},purpleDino:{type:"image",url:"assets/images/purple-dino.png"}}},299:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.clientCache=t.ClientCacheLocalStorage=void 0;var s=function(){function e(e,t){this.key=e,this.memoryCache=t}return e.prototype.get=function(e){return this.memoryCache[e]},e.prototype.set=function(e,t){this.memoryCache[e]=t,this.write()},e.prototype.write=function(){return n(this,void 0,void 0,(function(){return i(this,(function(e){return localStorage.setItem(this.key,JSON.stringify(this.memoryCache)),[2]}))}))},e.prototype.read=function(){return n(this,void 0,void 0,(function(){var e,t,n,s,a,c,l,u;return i(this,(function(i){if(e=localStorage.getItem(this.key))try{t=JSON.parse(e);try{for(n=o(Object.entries(this.memoryCache)),s=n.next();!s.done;s=n.next()){if(a=r(s.value,2),c=a[0],typeof a[1]!=typeof t[c]||null===t[c])throw new Error("validation failed for localStorage cache key ".concat(c,", from localStorage[").concat(this.key,"], value: ").concat(JSON.stringify(t)));this.memoryCache[c]=t[c]}}catch(e){l={error:e}}finally{try{s&&!s.done&&(u=n.return)&&u.call(n)}finally{if(l)throw l.error}}}catch(e){console.error("Error reading data from disk cache:",e),console.error("Removing malformed disk cache."),localStorage.removeItem(this.key)}return[2]}))}))},e}();t.ClientCacheLocalStorage=s,t.clientCache=new s("confetti-pigs-in-space",{score:0,highScore:0})},719:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var n=void 0;t.config=function(){return n||(n={PHASER_PHYSICS_ARCADE_DEBUG:!!"MISSING_ENV_VAR".PHASER_PHYSICS_ARCADE_DEBUG||!1}),n}},306:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConfettiEmitter=void 0;var r=n(123),s=n(260),a=function(e){function t(t,n){void 0===n&&(n=15);var i=e.call(this,t,0,0,r.AssetNames.confetti,{emitting:!1,gravityX:0,gravityY:0,lifespan:2e3,quantity:n,rotate:{start:0,end:720},scale:{start:1,end:0},speed:90,tint:Array.apply(null,new Array(n)).map((function(){return s.Display.Color.RandomRGB().color})),tintFill:!0})||this;return t.add.existing(i),i.quantity=15,i}return o(t,e),t.prototype.spawn=function(e,t){this.emitParticleAt(e,t,this.quantity)},t}(s.GameObjects.Particles.ParticleEmitter);t.ConfettiEmitter=a},130:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Flaktulence=void 0;var r=n(123),s=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var o=e.call(this,t,n,i,r.AssetNames.flaktulence)||this;return o.lifespanMax=2e3,o.lifespanHalf=o.lifespanMax/2,o.maxSize=60,t.add.existing(o),t.physics.add.existing(o),o.mask=o.scene.make.graphics({x:n,y:i}).beginPath().arc(0,0,28,0,2*Math.PI).closePath().fillPath().createGeometryMask(),o.setMask(o.mask),o.mask.geometryMask.scale=0,o.scale=0,o.kill(),o}return o(t,e),t.prototype.live=function(){this.setActive(!0),this.setVisible(!0),this.body.enable=!0},t.prototype.kill=function(){this.setActive(!1),this.setVisible(!1),this.body.enable=!1},t.prototype.spawn=function(e,t){this.birth=this.scene.time.now,this.mask.geometryMask.setPosition(e,t),this.setPosition(e,t),this.live()},t.prototype.update=function(e){var t,n=e-this.birth;n>this.lifespanMax?this.kill():t=n>this.lifespanHalf?1-(n-this.lifespanHalf)/this.lifespanHalf:n/this.lifespanHalf,this.mask.geometryMask.scale=t,this.scale=t},t}(n(260).GameObjects.Sprite);t.Flaktulence=s},549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Starfield=t.ScoreKeeper=t.PurpleDino=t.Pig=t.LevelDisplay=t.Flaktulence=t.ConfettiEmitter=void 0;var i=n(306);Object.defineProperty(t,"ConfettiEmitter",{enumerable:!0,get:function(){return i.ConfettiEmitter}});var o=n(130);Object.defineProperty(t,"Flaktulence",{enumerable:!0,get:function(){return o.Flaktulence}});var r=n(72);Object.defineProperty(t,"LevelDisplay",{enumerable:!0,get:function(){return r.LevelDisplay}});var s=n(598);Object.defineProperty(t,"Pig",{enumerable:!0,get:function(){return s.Pig}});var a=n(36);Object.defineProperty(t,"PurpleDino",{enumerable:!0,get:function(){return a.PurpleDino}});var c=n(146);Object.defineProperty(t,"ScoreKeeper",{enumerable:!0,get:function(){return c.ScoreKeeper}});var l=n(90);Object.defineProperty(t,"Starfield",{enumerable:!0,get:function(){return l.Starfield}})},72:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LevelDisplay=void 0;var r=function(e){function t(t){var n=e.call(this,t,0,0,"",{color:"#ffffff",font:"bold 36px Arial",align:"center"})||this;return t.add.existing(n),n.setOrigin(.5),n.setActive(!1),n.setVisible(!1),n}return o(t,e),t.prototype.spawn=function(e){void 0===e&&(e=1),this.setText("Level "+e),this.setActive(!0),this.setVisible(!0),this.setPosition(this.scene.cameras.main.centerX,-50),this.setRotation(0),this.setScale(1),this.scene.tweens.chain({targets:this,tweens:[{y:this.scene.cameras.main.centerY,rotation:2*Math.PI,duration:1e3,ease:"Linear"},{scaleX:0,scaleY:0,duration:2e3,ease:"Linear"}]})},t}(n(260).GameObjects.Text);t.LevelDisplay=r},598:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Pig=void 0;var r=n(123),s=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var o=e.call(this,t,n,i,r.AssetNames.pig)||this;return t.add.existing(o),t.physics.add.existing(o),o.body.setSize(o.width-8,o.height-8),o.kill(),o}return o(t,e),t.prototype.live=function(){this.setActive(!0),this.setVisible(!0),this.body.enable=!0},t.prototype.kill=function(){this.setActive(!1),this.setVisible(!1),this.body.enable=!1},t.prototype.spawn=function(e){this.target=e,this.setPosition(Math.random()>.5?0:this.scene.sys.game.canvas.width,Math.random()>.5?0:this.scene.sys.game.canvas.height),this.live()},t.prototype.update=function(){if(this.target){var e=Phaser.Math.Distance.Between(this.x,this.y,this.target.x,this.target.y);this.rotation=this.scene.physics.moveToObject(this,this.target,e>5?125:0)}},t}(n(260).GameObjects.Sprite);t.Pig=s},36:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PurpleDino=void 0;var r=n(123),s=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var o=e.call(this,t,n,i,r.AssetNames.purpleDino)||this;return o.invincible=!1,t.add.existing(o),t.physics.add.existing(o),o.invincibleTween=o.scene.tweens.add({targets:o,alpha:{from:.3,to:1},ease:"Linear",duration:1e3,yoyo:!0,repeat:-1}),o.invincibleTween.pause(),o.body.setSize(o.width-6,o.height-6),o.kill(),o}return o(t,e),t.prototype.invincibilityOff=function(){this.invincible=!1,this.alpha=1,this.invincibleTween.pause()},t.prototype.live=function(){this.setActive(!0),this.setVisible(!0),this.body.enable=!0},t.prototype.kill=function(){this.setActive(!1),this.setVisible(!1),this.body.enable=!1},t.prototype.spawn=function(){this.live(),this.invincible=!0,this.invincibleTween.resume(),this.scene.time.addEvent({delay:3e3,callback:this.invincibilityOff,callbackScope:this}),this.setPosition(this.scene.sys.game.canvas.width/2,this.scene.sys.game.canvas.height/2)},t.prototype.update=function(){var e=this.scene.input.activePointer,t=Phaser.Math.Distance.Between(this.x,this.y,e.x,e.y);this.rotation=this.scene.physics.moveToObject(this,e,t>30?150:0)},t}(n(260).GameObjects.Sprite);t.PurpleDino=s},146:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreKeeper=void 0;var r=n(260),s=n(299),a=function(e){function t(t,n,i){var o=e.call(this,t,n,i,"",{color:"#ffffff",font:"bold 16px Arial"})||this;return t.add.existing(o),o.levelCurrent=0,o.lives=3,o.score=0,o.highScore=s.clientCache.get("highScore"),o.scorePerLevel=4,o}return o(t,e),t.prototype.levelCalculate=function(){return Math.floor(this.score/this.scorePerLevel)+1},t.prototype.livesDecrease=function(e){void 0===e&&(e=1),this.lives-=e},t.prototype.save=function(){s.clientCache.set("score",this.score),s.clientCache.set("highScore",Math.max(this.score,this.highScore))},t.prototype.scoreIncrease=function(e){void 0===e&&(e=1),this.score+=e},t.scoreIsHigh=function(){return s.clientCache.get("score")>=s.clientCache.get("highScore")},t.prototype.update=function(){var e=this.levelCalculate();if(e!==this.levelCurrent){this.levelCurrent=e;var t={level:this.levelCurrent,type:"levelChange"};this.scene.events.emit("updateEvent",t)}this.setText("Lives: ".concat(this.lives,"\nScore: ").concat(this.score,"\nHigh Score: ").concat(this.highScore))},t}(r.GameObjects.Text);t.ScoreKeeper=a},90:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Starfield=void 0;var r=n(123),s=n(260),a=function(e){function t(t){var n=e.call(this,t,0,0,t.sys.game.canvas.width,t.sys.game.canvas.height,r.AssetNames.bgSpace)||this;return n.setOrigin(0,0),t.add.existing(n),n}return o(t,e),t.prototype.update=function(){var e=this.scene.input.activePointer,t=new s.Math.Vector2(e.x-this.scene.cameras.main.width/2,e.y-this.scene.cameras.main.height/2).normalize();this.tilePositionX+=t.x/3,this.tilePositionY+=t.y/3},t}(s.GameObjects.TileSprite);t.Starfield=a},506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.main=void 0;var i=n(719),o=n(260),r=n(655),s=n(299);t.main=function(){s.clientCache.read(),new o.Game({width:window.innerWidth,height:window.innerHeight,backgroundColor:"#000000",parent:"game-container",physics:{default:"arcade",arcade:{debug:(0,i.config)().PHASER_PHYSICS_ARCADE_DEBUG}},scene:[r.AssetLoader,r.Title,r.Play,r.End],type:Phaser.AUTO})}},495:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("pk-bios-loading"),t=document.getElementById("game-container");Promise.resolve().then((function(){return r(n(506))})).then((function(n){e.classList.add("loaded"),t.classList.remove("hidden"),n.main()}))}))},480:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.AssetLoader=void 0;var a=n(123),c=n(260),l=n(38),u=function(e){function t(){var t=e.call(this,{key:l.sceneNames.assetLoader})||this;return t.nextScene=l.sceneNames.title,t.loadingMessage="Loading game assets...",t}return o(t,e),t.prototype.preload=function(){var e,t,n=this,i=this.add.text(this.cameras.main.worldView.x+this.cameras.main.width/2,this.cameras.main.worldView.y+this.cameras.main.height/2,this.loadingMessage,{font:"20px Arial",color:"#ffffff"});i.setOrigin(.5,.5),this.load.on("progress",(function(e){i.setText("".concat(n.loadingMessage," ").concat(Math.floor(100*e),"%"))})),this.load.on("complete",(function(){i.destroy(),n.scene.start(n.nextScene)}));try{for(var o=r(Object.entries(a.assetConfigs)),c=o.next();!c.done;c=o.next()){var l=s(c.value,2),u=l[0],p=l[1];if("audio"===p.type)this.load.audio(u,p.url);else{if("image"!==p.type)throw new Error("".concat(u," has unknown config of ").concat(JSON.stringify(p)));this.load.image(u,p.url)}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t}(c.Scene);t.AssetLoader=u},943:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.End=void 0;var r=n(549),s=n(260),a=n(38),c=function(e){function t(){return e.call(this,{key:a.sceneNames.end})||this}return o(t,e),t.prototype.create=function(){this.background=new r.Starfield(this);var e="The End.\nClick to play again";r.ScoreKeeper.scoreIsHigh()&&(e="You got the high score!\n"+e),this.titleText=this.add.text(this.sys.game.canvas.width/2,this.sys.game.canvas.height/2,e,{color:"#ffffff",font:"bold 42px Arial",align:"center"}).setOrigin(.5),this.input.once("pointerdown",(function(){this.scene.start(a.sceneNames.play)}),this)},t.prototype.update=function(){this.background.update()},t}(s.Scene);t.End=c},655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Title=t.Play=t.End=t.AssetLoader=void 0;var i=n(480);Object.defineProperty(t,"AssetLoader",{enumerable:!0,get:function(){return i.AssetLoader}});var o=n(943);Object.defineProperty(t,"End",{enumerable:!0,get:function(){return o.End}});var r=n(205);Object.defineProperty(t,"Play",{enumerable:!0,get:function(){return r.Play}});var s=n(813);Object.defineProperty(t,"Title",{enumerable:!0,get:function(){return s.Title}})},205:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Play=void 0;var r=n(123),s=n(260),a=n(549),c=n(38),l=function(e){function t(){var t=e.call(this,{key:c.sceneNames.play})||this;return t.flaktulenceSpawnNext=0,t.pigSpawnNext=0,t.updateEventQueue=[],t}return o(t,e),t.prototype.updateEventCallback=function(e){"levelChange"===e.type?this.updateEventQueue.push(e):console.warn("unknown event data passed to updateEventCallback:",e)},t.prototype.create=function(){this.events.addListener("updateEvent",this.updateEventCallback,this),this.background=new a.Starfield(this),this.scoreKeeper=new a.ScoreKeeper(this,32,32),this.levelDisplay=new a.LevelDisplay(this),this.sound.stopAll(),this.sound.play(r.AssetNames.bgMusic,{volume:.25,loop:!0}),this.confettiEmitter=new a.ConfettiEmitter(this),this.purpleDino=new a.PurpleDino(this),this.pigs=this.add.group({classType:a.Pig,maxSize:10,runChildUpdate:!0}),this.flaktulence=this.add.group({classType:a.Flaktulence,maxSize:10,runChildUpdate:!0}),this.physics.add.overlap(this.pigs,this.flaktulence,this.collidePigAndFlaktulence,null,this),this.physics.add.overlap(this.purpleDino,this.pigs,this.collidePurpleDinoAndPig,null,this),this.physics.add.overlap(this.purpleDino,this.flaktulence,this.collidePurpleDinoAndFlaktulence,null,this)},t.prototype.collidePurpleDinoAndPig=function(e,t){this.killPig(t),this.killPurpleDino(e)},t.prototype.collidePurpleDinoAndFlaktulence=function(e,t){this.killPurpleDino(e)},t.prototype.collidePigAndFlaktulence=function(e,t){this.killPig(e)},t.prototype.killPurpleDino=function(e){this.purpleDino.invincible||(this.confettiEmitter.spawn(e.x,e.y),this.sound.play(r.AssetNames.explosionDino),this.purpleDino.kill(),this.scoreKeeper.livesDecrease())},t.prototype.killPig=function(e){this.confettiEmitter.spawn(e.x,e.y),this.sound.play(r.AssetNames.explosionPig),e.kill(),this.scoreKeeper.scoreIncrease(1)},t.prototype.update=function(e,t){if(this.scoreKeeper.lives<=0)return this.scoreKeeper.save(),void this.scene.start(c.sceneNames.end);!1===this.purpleDino.active&&this.purpleDino.spawn();do{var n=this.updateEventQueue.shift();n&&"levelChange"===n.type&&this.levelDisplay.spawn(n.level)}while(this.updateEventQueue.length);if(this.background.update(),this.purpleDino.update(),this.scoreKeeper.update(),this.pigs.preUpdate(e,t),this.flaktulence.preUpdate(e,t),0===this.pigSpawnNext)this.pigSpawnNext=e+800;else if(this.pigSpawnNext<e&&Math.min(this.pigs.countActive(),10)<this.scoreKeeper.levelCurrent){var i=this.pigs.get();i&&i.spawn(this.purpleDino),this.pigSpawnNext=e+800}if(0===this.flaktulenceSpawnNext)this.flaktulenceSpawnNext=e+750;else if(this.flaktulenceSpawnNext<e&&Math.min(this.flaktulence.countActive(),10)<10){var o=this.purpleDino.body.velocity,a=new s.Math.Vector2(o.x,o.y).normalize();if(a.x||a.y){var l=this.flaktulence.get();l&&(l.spawn(this.purpleDino.x-40*a.x,this.purpleDino.y-40*a.y),this.sound.play(r.AssetNames.explosionFlaktulence),this.flaktulenceSpawnNext=e+750)}}},t}(s.Scene);t.Play=l},38:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sceneNames=void 0,t.sceneNames={assetLoader:"assetLoader",end:"end",play:"play",title:"title"}},813:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Title=void 0;var r=n(549),s=n(260),a=n(38),c=function(e){function t(){return e.call(this,{key:a.sceneNames.title})||this}return o(t,e),t.prototype.create=function(){this.background=new r.Starfield(this),this.titleText=this.add.text(this.sys.game.canvas.width/2,this.sys.game.canvas.height/2,"confetti pigs in space",{color:"#ffffff",font:"bold 42px Arial",align:"center"}).setOrigin(.5),this.marqueeText=this.add.text(this.sys.game.canvas.width+20,this.sys.game.canvas.height-48,["What a night.","Trapped in the mascot costume.","Too much junk food.","Jettisoned out the airlock into space.","Confetti filled pigs in pursuit.","Today your flatulence might save your life.","Don't get caught in your own gas.","Yes this is the plot."].join(" "),{color:"#ffffff",font:"bold 28px Arial"}),this.input.once("pointerdown",(function(){this.scene.start(a.sceneNames.play)}),this)},t.prototype.update=function(){this.marqueeText.x-=3,this.background.update()},t}(s.Scene);t.Title=c}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,n,o,r)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,o,r]=e[u],a=!0,c=0;c<n.length;c++)(!1&r||s>=r)&&Object.keys(i.O).every((e=>i.O[e](n[c])))?n.splice(c--,1):(a=!1,r<s&&(s=r));if(a){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[s,a,c]=n,l=0;if(s.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(c)var u=c(i)}for(t&&t(n);l<s.length;l++)r=s[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},n=self.webpackChunkconfetti_pigs_in_space=self.webpackChunkconfetti_pigs_in_space||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=i.O(void 0,[216],(()=>i(495)));o=i.O(o)})();